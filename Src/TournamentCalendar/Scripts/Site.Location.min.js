var Site;window.loadGoogleMaps=i=>{var s,n,a,r="The Google Maps JavaScript API",o="google",d="importLibrary",l="__ib__",h=document,e=window,c=(e=e[o]||(e[o]={})).maps||(e.maps={}),p=new Set,m=new URLSearchParams,g=()=>s=s||new Promise((e,t)=>{for(a in n=h.createElement("script"),m.set("libraries",[...p]+""),i)m.set(a.replace(/[A-Z]/g,e=>"_"+e[0].toLowerCase()),i[a]);m.set("callback",o+".maps."+l),n.src=`https://maps.${o}apis.com/maps/api/js?`+m,c[l]=e,n.onerror=()=>s=t(Error(r+" could not load.")),n.nonce=h.querySelector("script[nonce]")?.nonce||"",h.head.append(n)});return c[d]?console.warn(r+" only loads once. Ignoring:",i):c[d]=(e,...t)=>p.add(e)&&g().then(()=>c[d](e,...t)),g()},(Site=void 0===Site?{}:Site).Location=class{"use strict";constructor(e,t,i,s,n,a,r,o,d,l){this.countryIdEle=document.getElementById(e),this.countryIdEle.addEventListener("change",this.update.bind(this),!1),this.zipCodeEle=document.getElementById(t),this.zipCodeEle.addEventListener("change",this.update.bind(this),!1),this.zipCodeEle.addEventListener("change",function(e){this.value=this.value.trim()}),this.cityEle=document.getElementById(i),this.cityEle.addEventListener("change",this.update.bind(this),!1),this.cityEle.addEventListener("change",function(e){this.value=this.value.trim()}),this.streetEle=document.getElementById(s),this.streetEle.addEventListener("change",this.update.bind(this),!1),this.streetEle.addEventListener("change",function(e){this.value=this.value.trim()}),this.btnMapModalEle=document.getElementById(n),this.mapId=a,this.mapPlaceholderEle=document.getElementById(r),this.MapsLib=o,this.MarkerLib=d,this.GeocoderLib=l,setInterval(this.enableDisableModalButton.bind(this),500)}get addressElements(){return[this.countryIdEle,this.zipCodeEle,this.cityEle,this.streetEle]}enableDisableModalButton(){this.isAddressEntered?(this.btnMapModalEle.removeAttribute("disabled"),this.btnMapModalEle.style.cursor="pointer",this.btnMapModalEle.style.pointerEvents="auto"):(this.btnMapModalEle.setAttribute("disabled","disabled"),this.btnMapModalEle.style.cursor="not-allowed",this.btnMapModalEle.style.pointerEvents="all")}update(){this.enableDisableModalButton(),this.isAddressEntered&&this.showHideLocation()}get isAddressEntered(){return 3<=this.getAddress(!1).length}getAddress(e){var t=(this.zipCodeEle.value.trim()+" "+this.cityEle.value.trim()+" "+this.streetEle.value.trim()).trim();return e?(this.countryIdEle.value.trim()+" "+t).trim():t}arrayEquals(e,i){return Array.isArray(e)&&Array.isArray(i)&&e.length===i.length&&e.every((e,t)=>e===i[t])}showHideLocation(){this.mapPlaceholderEle.innerHTML='<div style="padding: 1rem; color: gray">Die Karte wird gezeigt,<br />wenn die Adresse gefunden wurde.</div>',this.isAddressEntered&&this.getLocation().then(e=>{e?this.showLocationOnGoogleMaps(e[0],e[1]):this.mapPlaceholderEle.innerHTML='<div style="padding: 1rem; color: red">Adresse nicht gefunden.</div>'})}async getLocation(){var e=this.getAddress(!0);try{var t=(await(new this.GeocoderLib).geocode({address:e})).results;if(Array.isArray(t)&&0<t.length)return[t[0].geometry.location.lat(),t[0].geometry.location.lng()];throw new Error("ZERO_RESULTS: No result was found for this GeocoderRequest.")}catch(e){return e.message.includes("ZERO_RESULTS")?window.JL("Site.Location.getLocation").warn({message:e.message,name:e.name}):window.JL("Site.Location.getLocation").error({message:e.message,name:e.name,stack:e.stack}),null}}showLocationOnGoogleMaps(e,t){e=new google.maps.LatLng(e,t),t={zoom:14,center:e,mapId:this.mapId,mapTypeControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP},t=new this.MapsLib(this.mapPlaceholderEle,t);new this.MarkerLib({position:e,map:t,title:"Angegebener Standort",content:new google.maps.marker.PinElement({background:"#d32f2f",borderColor:"#b71c1c",glyphColor:"#fff"}).element})}async initMap(e){var t={zoom:14,center:e||new google.maps.LatLng(51.312801,9.481544),mapId:this.mapId,mapTypeControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP},t=new this.MapsLib(this.mapPlaceholderEle,t);new this.MarkerLib({position:e,map:t,title:"Angegebener Standort",content:new google.maps.marker.PinElement({background:"#d32f2f",borderColor:"#b71c1c",glyphColor:"#fff"}).element})}};